# RÃ¨gles Changelog â€” Validation Automatique

## âš¡ Utilisation

```bash
# Valider le changelog actuel avant commit
npm run changelog:check

# Tester un autre fichier
node scripts/validate-changelog.cjs mon-changelog.md
```

**Script bloque automatiquement les violations PATCH** (jargon, multi-bullets, longueur excessive).

---

## ğŸ“‹ PATCH (X.Y.Z++) â€” 2 minutes avant commit

### Checklist obligatoire

- [ ] **1 seule phrase** en "Impact fonctionnel" (max 100 caractÃ¨res)
- [ ] **Aucun mot technique** : hook, callback, optimiste, synchronisation, refactor
- [ ] **Vocabulaire utilisateur** : affichage, crÃ©ation, suppression, modification, correction
- [ ] **Pas de section "Stabilisation"** (sauf sÃ©curitÃ© critique)
- [ ] **â‰¤ 2 fichiers** en "Composants concernÃ©s" (si plus â†’ c'est un MINOR)
- [ ] **Pas de "Points de vigilance"** (sauf action utilisateur requise)

### Test vocal (30 secondes)

Lis le changelog Ã  voix haute :

1. âœ… Un chef de projet comprend en 10 secondes ?
2. âœ… Peut-il l'expliquer Ã  un client sans dire "code" ?
3. âœ… Un utilisateur final sait ce qui change ?

**Si 1 seul NON â†’ rÃ©Ã©crire**

---

## ğŸ“ Template PATCH (copier-coller)

```markdown
## X.Y.Z - YYYY-MM-DD

StabilitÃ© : ğŸŸ¢ stable

### ğŸ¯ Impact fonctionnel

- [UNE PHRASE SIMPLE]
```

---

## âœ… Exemples VALIDES

```markdown
## 1.7.2 - 2026-01-18
StabilitÃ© : ğŸŸ¢ stable

### ğŸ¯ Impact fonctionnel
- Les demandes d'achat crÃ©Ã©es s'affichent immÃ©diatement
```

```markdown
## 1.5.3 - 2026-01-15
StabilitÃ© : ğŸŸ¢ stable

### ğŸ¯ Impact fonctionnel
- Correction du calcul des totaux dans les paniers
```

---

## âŒ Exemples INTERDITS

```markdown
âŒ "ImplÃ©mentation des mises Ã  jour optimistes"
âŒ "Centralisation via useOptimisticPurchaseRequests"
âŒ "Refactoring de la couche de donnÃ©es"
âŒ "AmÃ©lioration des performances de chargement"
âŒ "Optimisation du bundler et des hooks"
```

**Pourquoi ?** Jargon technique incomprÃ©hensible pour utilisateur final.

---

## ğŸ”„ MINOR (X.Y.0) â€” RÃ¨gles assouplies

AutorisÃ© pour MINOR uniquement :

- âœ… Section "Stabilisation / Dette technique" dÃ©taillÃ©e
- âœ… Plusieurs points en "Impact fonctionnel"
- âœ… Liste complÃ¨te des composants (> 2 fichiers OK)
- âœ… DÃ©tails techniques si nÃ©cessaires

---

## ğŸ¯ Principe de base

**Question : "Qu'est-ce qui change pour l'utilisateur ?"**

- Si la rÃ©ponse tient en 1 phrase â†’ PATCH
- Si tu as besoin de 2+ phrases â†’ MINOR
- Si tu parles de "code", "hook", "architecture" â†’ c'est trop technique

---

## ğŸ“Œ RÃ©fÃ©rence

Voir [docs/tech/CONVENTIONS.md Â§18.4](docs/tech/CONVENTIONS.md) pour rÃ¨gles complÃ¨tes.
